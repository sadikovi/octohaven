(function(){var t,e,n,r,o,a,i,s,p,u,l,c,d,m,h,f,b=[].slice;if(o=document.getElementById("octohaven-job-details"),!o)throw new Error("Job details element is not found");m=this.mapper,f=this.util,h=this.misc,d=new this.JobApi,e=function(t){return{type:"span",cls:"text-mute",title:""+t}},r=function(t){return{type:"span",title:""+t}},n=function(t){var e,n,r,o;for(o=[],n=0,r=t.length;r>n;n++)e=t[n],o.push({type:"p",children:{type:"span",title:""+e}});return o},t=function(t,e){var n,r;return null==e&&(e=!1),r=e?"four-fifths column":"one-fifth column",n={type:"div",cls:""+r,children:t},m.parseMapForParent(n)},s=function(){var t,e,n;return t=1<=arguments.length?b.call(arguments,0):[],e={type:"div",cls:"columns",children:[function(){var e,r,o;for(o=[],e=0,r=t.length;r>e;e++)n=t[e],o.push(n);return o}()]},m.parseMapForParent(e)},p=function(t){var e;return e={type:"div",cls:"segment",children:t},m.parseMapForParent(e)},u=function(t){var e,n;return n=document.getElementById("octohaven-job-stdout"),e=document.getElementById("octohaven-job-stderr"),n&&(n.href="/log?type=stdout&jobid="+t),e?e.href="/log?type=stderr&jobid="+t:void 0},l=function(t){var e;return e=document.getElementById("octohaven-job-timetable"),e?e.href="/timetablecreate?id="+t+"&mode=create":void 0},i=f.windowParameters(),"jobid"in i?(a=i.jobid,d.getJob(a,function(){return o.innerHTML=""},function(a,i){var c,d,b,g,v,k,y,j,w,M,E,P,F,J,S,I,T,B,D,W;return a?(k=i.content.job,T=k.uid,M=k.sparkjob.name,S=k.status,b=k.sparkjob.entrypoint,j=k.sparkjob.masterurl,E=function(){var t,e;t=k.sparkjob.options,e=[];for(D in t)W=t[D],e.push(D+" = "+W);return e}(),y=function(){var t,e,n,r;for(n=k.sparkjob.jobconf,r=[],t=0,e=n.length;e>t;t++)D=n[t],r.push(""+D);return r}(),v=k.sparkjob.jar,c=k.createtime,I=k.submittime,J=k.starttime,g=k.finishtime,F=k.sparkappid?k.sparkappid:"None",d=g>0&&J>0?f.humanReadableDiff(g-J):0===g?"None":"Unknown",P={type:"div",cls:"segments",children:[p(s(t(e("Job id"),!1),t(r(T),!0))),p(s(t(e("Spark job name"),!1),t(r(M),!0))),p(s(t(e("Created"),!1),t({type:"span",title:""+f.timestampToDate(c)},!0))),p(s(t(e("Expected run"),!1),t({type:"span",title:""+f.timestampToDate(I)},!0))),p(s(t(e("Actual run"),!1),t({type:"span",title:""+f.timestampToDate(J)},!0))),p(s(t(e("Elapsed time"),!1),t({type:"span",title:""+d},!0))),p(s(t(e("Status"),!1),t(r(S),!0))),p(s(t(e("Entrypoint"),!1),t(r(b),!0))),p(s(t(e("Spark URL"),!1),t(r(j),!0))),p(s(t(e("Spark App Id"),!1),t(r(F),!0))),p(s(t(e("Jar file"),!1),t(r(v),!0))),p(s(t(e("Options"),!1),t(n(E),!0))),p(s(t(e("Job conf"),!1),t(n(y),!0)))]},m.parseMapForParent(P,o),u(T),l(T)):(w=i?i.content.msg:"We know and keep working on that",B=h.blankslateWithMsg("Something went wrong",w),m.parseMapForParent(B,o))})):(o.innerHTML="",c=h.blankslateWithMsg("Something went wrong","We know and keep working on that"),m.parseMapForParent(c,o))}).call(this);