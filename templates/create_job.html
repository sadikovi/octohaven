{% extends "base.html" %}
{% from "macros.html" import job_option, template_option %}

{% block title %} Create job {% endblock %}
{% block nav %}
    <div class="menu-heading">Actions</div>
    <a class="menu-item" href="/jobs">View jobs</a>
{% endblock %}
{% block menu %}
    <h4>Templates</h4>
    <ul class="filter-list small">
        <li>
            {{ template_option("my first template") }}
        </li>
        <li>
            {{ template_option("fire job") }}
        </li>
        <li>
            {{ template_option("sample") }}
        </li>
        <li>
            {{ template_option("testing performance for") }}
        </li>
    </ul>
{% endblock %}
{% block header %} Create new Spark job {% endblock %}
{% block subheader %} Use templates to quickly preload data {% endblock %}
{% block content %}
    <div class="segments">
        {{ job_option("opt_job_name", "Job name", "Friendly job name", default_job_name, True) }}
        {{ job_option("opt_main_class", "Main class", "Entrypoint for the job", default_main_class, True) }}
        {{ job_option("opt_driver_memory", "Driver memory", "Memory for the driver program, e.g. 4g", default_driver_memory, True) }}
        {{ job_option("opt_executor_memory", "Executor memory", "Memory for Spark executors, e.g. 4g", default_executor_memory, True) }}
        {{ job_option("opt_spark_options", "Spark options", "Settings, e.g. JVM, networking, shuffle...", default_spark_options, True) }}
        {{ job_option("opt_job_options", "Job options", "Job options to pass to entrypoint", default_job_options, True) }}
        <div id="opt_finder" class="segment">
            <h3 class="text-thin">Finder</h3>
            <div class="breadcrumb">
                <a class="section">home</a>
                <div class="separator">/</div>
                <div class="section active">octohaven</div>
                <div class="separator">/</div>
            </div>
            <div class="menu">
                <a href="" class="menu-item">..</a>
                <a href="" class="menu-item">&#128193; bin</a>
                <a href="" class="menu-item">&#128193; sbin</a>
                <a href="" class="menu-item">&#128193; conf</a>
                <a href="" class="menu-item">&#128196; setup.py</a>
                <a href="" class="menu-item">&#128196; config.py</a>
                <a href="" class="menu-item">&#128196; requirements.txt</a>
            </div>
        </div>
        <div id="opt_timer" class="segment">
            <h3 class="text-thin">Timer</h3>
            <ul class="filter-list small">
                <li>
                    <a id="time_0sec" href="#" class="filter-item selected">Right away</a>
                </li>
                <li>
                    <a id="time_10min" href="#" class="filter-item">In 10 minutes</a>
                </li>
                <li>
                    <a id="time_30min" href="#" class="filter-item">In 30 minutes</a>
                </li>
                <li>
                    <a id="time_1hrs" href="#" class="filter-item">In 1 hour</a>
                </li>
                <li>
                    <a id="time_3hrs" href="#" class="filter-item">In 3 hours</a>
                </li>
                <li>
                    <a id="time_24hrs" href="#" class="filter-item">Next day</a>
                </li>
            </ul>
        </div>
        <div class="segment">
            <div class="breadcrumb">
                <div class="section">
                    <div class="btn btn-success">Submit job</div>
                </div>
                <div class="separator">|</div>
                <div class="section">
                    <div class="btn">Save as template</div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
