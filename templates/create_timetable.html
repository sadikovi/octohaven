{% extends "base.html" %}

{% block title %} Create timetable {% endblock %}
{% block nav %}
    <div class="menu-heading">Actions</div>
    <a class="menu-item" href="/timetables">View timetables</a>
    <a class="menu-item" href="/jobs">View jobs</a>
{% endblock %}
{% block header %} Create new timetable {% endblock %}
{% block subheader %} Timetable is created using specific job as template {% endblock %}
{% block content %}
<div class="segments">
    <div class="segment" id="create-content">
        <div class="hidden" id="job-content">{{ job }}</div>
    </div>
    <div class="hidden segment" id="cron-help">
        <h3 class="text-thin">Cron expressions and examples</h3>
        <p>
            Cron format is a simple, yet powerful and flexible way to define time and frequency of
            various actions. Enhanced cron format consists of six fields separated by white spaces.
            <pre>
                +--------+------+--------------+-------+-------------+------+
                | Minute | Hour | Day of month | Month | Day of week | Year |
                +--------+------+--------------+-------+-------------+------+
            </pre>
        </p>
        <h4 class="text-thin">Available ranges</h4>
        <div class="secondary blue bordered segment">
            <div class="columns">
                <div class="one-third column">Minute</div>
                <div class="two-thirds column">
                    <code>0-59</code>
                </div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column">Hour</div>
                <div class="two-thirds column">
                    <code>0-23</code>
                </div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column">Day of month</div>
                <div class="two-thirds column">
                    <code>1-31</code>
                </div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column">Month</div>
                <div class="two-thirds column">
                    <code>1-12</code>
                    <span> or </span>
                    <code>Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec</code>
                </div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column">Day of week</div>
                <div class="two-thirds column">
                    <code>1-7</code>
                    <span> or </span>
                    <code>Mon,Tue,Wed,Thu,Fri,Sat,Sun</code>
                </div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column">Year</div>
                <div class="two-thirds column">
                    <code>2014-2032</code>
                </div>
            </div>
        </div>
        <p>
            Any of these 6 fields may be an asterisk (<strong>*</strong>). This would mean the
            entire range of possible values, i.e. each minute, each hour, etc. Any field may contain
            a list of values separated by commas, (e.g. <code class="text-emphasized">1,3,7</code>)
            or a range of values (two integers separated by a hyphen, e.g.
            <code class="text-emphasized">1-5</code>).
        </p>
        <p>
            After an asterisk (<strong>*</strong>) or a range of values, you can use character
            <strong>/</strong> to specify that values are repeated over and over with a certain
            interval between them. For example, you can write
            <code class="text-emphasized">*/15</code> in Minute field to specify that schedule
            should be invoked every 15 minutes (it will have the same effect as
            <code class="text-emphasized">0,15,30,45</code>).
        </p>
        <p>
            In Month and Day of Week fields, you can use names of months or days of
            weeks abbreviated to first three letters <code class="text-emphasized">Jan,Feb,...,Dec</code>
            or <code class="text-emphasized">Mon,Tue,...,Sun</code> instead of their numeric values.
        </p>
        <h4 class="text-thin">Examples</h4>
        <div class="secondary blue bordered segment">
            <div class="columns">
                <div class="one-third column"><code>* * * * * *</code></div>
                <div class="two-thirds column">Each minute</div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column"><code>*/15 * * * * *</code></div>
                <div class="two-thirds column">Every 15 minutes</div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column"><code>* 8-11 * * * *</code></div>
                <div class="two-thirds column">Each minute from 8am to 11am</div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column"><code>0 9 * * Mon-Fri *</code></div>
                <div class="two-thirds column">At 9am on week days</div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column"><code>* * * 1,2,3 * *</code></div>
                <div class="two-thirds column">Each minute in January, February or March</div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column"><code>* * * Jan,Feb,Mar * *</code></div>
                <div class="two-thirds column">Same as above (different notation)</div>
            </div>
            <div class="divider"></div>
            <div class="columns">
                <div class="one-third column"><code>45 17 7 6 * 2015,2016</code></div>
                <div class="two-thirds column">On June 7th at 17:45, if the year is 2015 or 2016</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
{% block scripts %}
    <script type="text/javascript" src="/static/octohaven.createtimetable.min.js"></script>
{% endblock %}
