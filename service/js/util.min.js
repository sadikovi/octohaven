(function(){var t,e=[].slice,n=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1};t=function(){function t(){}return t.prototype.createElement=function(t,e,n,r,i){var o;return t?(o=document.createElement(t),n&&(o.className=n),e&&(o.id=e),r&&(o.innerHTML=r),i&&i.appendChild(o),o):!1},t.prototype.clear=function(t){return t?t.innerHTML="":void 0},t.prototype.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},t.prototype.removeEventListener=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null},t.prototype.addClass=function(){var t,r,i,o,a;return i=arguments[0],r=2<=arguments.length?e.call(arguments,1):[],t=i.className.trim(),t=t?t.split(" "):[],o=t.concat(function(){var e,i,o;for(o=[],e=0,i=r.length;i>e;e++)a=r[e],a&&n.call(t,a)<0&&o.push(a);return o}()),i.className=o.join(" ")},t.prototype.removeClass=function(){var t,r,i,o;return i=arguments[0],r=2<=arguments.length?e.call(arguments,1):[],t=i.className.split(" "),i.className=function(){var e,i,a;for(a=[],e=0,i=t.length;i>e;e++)o=t[e],n.call(r,o)<0&&a.push(o);return a}().join(" ")},t.prototype.hasClass=function(t,e){return n.call(t.className.split(" "),e)>=0},t.prototype.quote=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})},t.prototype.unquote=function(t){return decodeURIComponent(t)},t.prototype.isArray=function(t){return Array.isArray(t)||"[object Array]"==={}.toString.call(t)},t.prototype.randomid=function(){return(""+Math.random()).split(".")[1]},t.prototype.jsonOrElse=function(t,e){var n,r;null==e&&(e=null);try{r=JSON.parse(t)}catch(i){n=i,r=e}return r},t.prototype.intOrElse=function(t,e){var n;return null==e&&(e=-1),n=parseInt(t,10),NaN!==n?n:e},t.prototype.humanReadableTime=function(t,e){var n,r,i,o;return null==e&&(e="en-nz"),o=[new Date,new Date(t)],i=o[0],n=o[1],r=(i.getTime()-n.getTime())/1e3,r>0&&60>r?"less than a minute ago":r>=60&&3600>r?Math.floor(r/60)+" minutes ago":r>=3600&&86400>r?Math.floor(r/60/60)+" hours ago":""+n.toLocaleString(e)},t.prototype.timestampToDate=function(t,e){var n;return null==e&&(e="en-nz"),n=new Date(t),""+n.toLocaleString(e)},t.prototype.windowParameters=function(){var t,e,n,r,i,o,a,s,l,u,c;if(!(window&&window.location&&window.location.search))throw new Error("Window.location is not set properly");for(o=null!=(c=window.location.search)?c.trim():void 0,t=function(){var t,n,r,i;for(r=o.split("&"),i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.split("=",2));return i}(),n={},l=0,u=t.length;u>l;l++)r=t[l],a=0===r[0].indexOf("?")?r[0].substring(1):r[0],i=this.unquote(a),s=r[1]?this.unquote(r[1]):null,n[i]=s;return n},t}(),null==this.util&&(this.util=new t)}).call(this),function(){var t;t=function(){function t(){}return t.prototype.sendrequest=function(t,e,n,r,i,o){var a,s,l;l=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),l.onreadystatechange=function(){var t;return 4===l.readyState?200<=(t=l.status)&&300>t?"function"==typeof i?i(l.status,l.responseText):void 0:"function"==typeof o?o(l.status,l.responseText):void 0:void 0},l.open(t,e,!0);for(a in n)s=n[a],l.setRequestHeader(a,s);return l.send(r)},t.prototype.syncrequest=function(t,e,n,r){var i,o,a;a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),a.open(t,e,!1);for(i in n)o=n[i],a.setRequestHeader(i,o);return a.send(r)},t}(),null==this.loader&&(this.loader=new t)}.call(this),function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};t=function(){function t(){this.parseMapForParent=e(this.parseMapForParent,this)}return t.prototype.createElement=function(t,e){var n;return n=document.createElement(t),e&&e.appendChild(n),n},t.prototype.addEventListener=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n},t.prototype.parseMapForParent=function(t,e){var n,r,i,o,a,s;if(!t)return!1;if(i={type:"type",cls:"cls",id:"id",title:"title",href:"href",target:"target",src:"src",inputvalue:"inputvalue",inputtype:"inputtype",placeholder:"placeholder",optionselected:"optionselected",children:"children",text_last:"text_last",onclick:"onclick",onkeyup:"onkeyup",arialabel:"arialabel"},"nodeName"in t)e&&e.appendChild(t);else if(i.type in t)n=this.createElement(t[i.type],e),i.id in t&&(n.id=""+t[i.id]),i.cls in t&&(n.className=""+t[i.cls]),i.href in t&&(n.href=""+t[i.href]),i.target in t&&(n.target=""+t[i.target]),i.src in t&&(n.src=""+t[i.src]),i.inputvalue in t&&(n.value=""+t[i.inputvalue]),i.inputtype in t&&(n.type=""+t[i.inputtype]),i.placeholder in t&&(n.placeholder=""+t[i.placeholder]),i.optionselected in t&&(n.selected=t[i.optionselected]),i.arialabel in t&&n.setAttribute("aria-label",t[i.arialabel]),i.onclick in t&&t[i.onclick]&&this.addEventListener(n,"click",function(e){return t[i.onclick].call(this,e)}),i.onkeyup in t&&t[i.onkeyup]&&this.addEventListener(n,"keyup",function(e){return t[i.onkeyup].call(this,e)}),i.title in t&&(o=document.createTextNode(""+t[i.title]),i.children in t?(length in t||(t[i.children]=[t[i.children]]),i.text_last in t&&t[i.text_last]?t[i.children].push(o):t[i.children].unshift(o)):t[i.children]=[o]),i.children in t&&this.parseMapForParent(t[i.children],n);else for(a=0,s=t.length;s>a;a++)r=t[a],this.parseMapForParent(r,e);return n},t}(),null==this.mapper&&(this.mapper=new t)}.call(this),function(){var t,e;t=function(){function t(e,n,r,i,o,a){var s;if(this.elem=e,this.onDidFinishEdit=n,this.oktext=null!=r?r:"Save",this.canceltext=null!=i?i:"Cancel",this.placeholder=null!=o?o:"",this.displayvalue=null!=a?a:!0,!this.elem||this.elem.nodeType!==Node.ELEMENT_NODE||!this.hasDataAttribute(this.elem))throw new Error("Wrong element");if(this.assets={},s=[null,null],this.assets.texter=s[0],this.assets.trigger=s[1],this.discover(this.elem),!this.assets.texter||!this.assets.trigger)throw new Error("Insufficient structure");t._util.addEventListener(this.assets.trigger,"click",function(t){return function(e){return t.showPanel(),e.preventDefault()}}(this)),this.on=!1}return t.prototype.getAttribute=function(t){return t.getAttribute("data-attr")},t.prototype.hasDataAttribute=function(t){return"fast-editor"===this.getAttribute(t)},t.prototype.hasTriggerAttribute=function(t){return"fast-editor-trigger"===this.getAttribute(t)},t.prototype.hasTextAttribute=function(t){return"fast-editor-texter"===this.getAttribute(t)},t.prototype.discover=function(t){var e,n,r,i,o;if(!t||!t.childNodes)return!1;for(i=t.childNodes,o=[],n=0,r=i.length;r>n;n++)e=i[n],e&&e.nodeType===Node.ELEMENT_NODE?this.hasTriggerAttribute(e)?o.push(this.assets.trigger=e):this.hasTextAttribute(e)?o.push(this.assets.texter=e):o.push(this.discover(e)):o.push(void 0);return o},t.prototype.showPanel=function(n){return this.on?!1:(n=n||""+this.assets.texter.textContent,this.panel=new e(n,this.placeholder,this.oktext,this.canceltext),this.assets.texter.innerHTML="",this.assets.texter.appendChild(this.panel.html()),this.assets.trigger.style.display="none",t._util.addEventListener(this.panel.ok,"click",function(t){return function(e){var n;return n=t.panel.texter.value,"function"==typeof t.hidePanel&&t.hidePanel(n),"function"==typeof t.onDidFinishEdit&&t.onDidFinishEdit(!0,n),e.preventDefault()}}(this)),t._util.addEventListener(this.panel.ko,"click",function(t){return function(e){return"function"==typeof t.hidePanel&&t.hidePanel(),"function"==typeof t.onDidFinishEdit&&t.onDidFinishEdit(!1),e.preventDefault()}}(this)),this.on=!0)},t.prototype.hidePanel=function(t){var e;return this.on?(this.assets.texter.textContent=null!=(e=this.displayvalue?t:null)?e:this.panel.initvalue,this.panel=null,this.assets.trigger.style.display="",this.on=!1):!1},t}(),e=function(){function e(t,e,n,r){var i;this.initvalue=t,this.placeholder=null!=e?e:"",this.oktext=null!=n?n:"Save",this.canceltext=null!=r?r:"Cancel",this.initvalue=this.initvalue?this.initvalue.trim():"",i=[this.submit(),this.cancel(),this.input(this.initvalue)],this.ok=i[0],this.ko=i[1],this.texter=i[2]}return e.prototype.input=function(e){var n,r;return n=document.createElement("input"),n.setAttribute("placeholder",""+this.placeholder),r=["text",""+e],n.type=r[0],n.value=r[1],t._util.addClass(n,"form-control","short"),n},e.prototype.submit=function(){var e;return e=document.createElement("div"),e.innerHTML=""+this.oktext,t._util.addClass(e,"btn","btn-success"),e},e.prototype.cancel=function(){var e;return e=document.createElement("div"),e.innerHTML=""+this.canceltext,t._util.addClass(e,"btn"),e},e.prototype.html=function(){var e,n,r,i,o,a,s,l,u;for(i=document.createElement("div"),t._util.addClass(i,"breadcrumb"),n=document.createElement("div"),t._util.addClass(n,"section"),n.appendChild(this.texter),o=document.createElement("div"),t._util.addClass(o,"section"),o.appendChild(this.ok),e=document.createElement("div"),t._util.addClass(e,"section"),e.appendChild(this.ko),a=function(){var e;return e=document.createElement("div"),t._util.addClass(e,"separator"),e},u=[n,a(),o,a(),e],s=0,l=u.length;l>s;s++)r=u[s],i.appendChild(r);return i},e}(),t._util=this.util,null==this.FastEditor&&(this.FastEditor=t)}.call(this),function(){var t,e,n,r;n=this.mapper,r=this.util,e=this.FastEditor,t=function(){function t(){}return t.prototype.blankslate=function(t){var e;return e=n.parseMapForParent({type:"div",cls:"blankslate"}),n.parseMapForParent(t,e),e},t.prototype.blankslateWithMsg=function(t,e){var n;return t={type:"h1",cls:"text-thin",title:""+t},n={type:"p",title:""+e},this.blankslate([t,n])},t.prototype.segments=function(t,e){var r;return null==e&&(e=null),r={type:"div",cls:"segments",children:t},n.parseMapForParent(r,e)},t.prototype.segment=function(t,e){var r;return null==e&&(e=null),r={type:"div",cls:"segment",children:t},n.parseMapForParent(r,e)},t.prototype.columns=function(t,e){var r;return null==e&&(e=null),r={type:"div",cls:"columns",children:t},n.parseMapForParent(r,e)},t.prototype.section=function(t,e){var r;return null==e&&(e=null),r={type:"div",cls:"section",children:t},n.parseMapForParent(r,e)},t.prototype.dynamicOption=function(t,r,i,o){var a,s,l,u,c;return s=n.parseMapForParent({type:"span",cls:"text-mute tooltipped tooltipped-n",title:""+t}),s.setAttribute("aria-label",""+r),s=n.parseMapForParent({type:"div",cls:"one-fifth column",children:s}),c=n.parseMapForParent({type:"a",href:"",title:"Change"}),c.setAttribute("data-attr","fast-editor-trigger"),u=n.parseMapForParent({type:"div",cls:"one-fifth column",children:c}),a=n.parseMapForParent({type:"div",cls:"three-fifths column",title:""+i}),a.setAttribute("data-attr","fast-editor-texter"),l=this.segment(this.columns([s,u,a])),l.setAttribute("data-attr","fast-editor"),new e(l,function(t,e){return"function"==typeof o?o(t,e):void 0}),l},t.prototype.staticOption=function(t,e,r){var i,o,a;return o=n.parseMapForParent({type:"span",cls:"text-mute tooltipped tooltipped-n",title:""+t}),o.setAttribute("aria-label",""+e),o=n.parseMapForParent({type:"div",cls:"one-fifth column",children:o}),a=n.parseMapForParent({type:"div",cls:"one-fifth column",children:{type:"div",cls:"breadcrumb",title:""}}),i=n.parseMapForParent({type:"div",cls:"three-fifths column",children:r}),this.segment(this.columns([o,a,i]))},t.prototype.staticTextOption=function(t,e,n){return this.staticOption(t,e,{type:"span",title:""+n})},t}(),null==this.misc&&(this.misc=new t)}.call(this),function(){var t;t=function(){function t(){}return t.prototype.generate=function(){var t,e,n,r,i;return t=["autumn","hidden","bitter","misty","silent","empty","dry","dark","summer","icy","delicate","quiet","white","cool","spring","winter","patient","twilight","dawn","crimson","wispy","weathered","blue","billowing","broken","cold","damp","falling","frosty","green","long","late","lingering","bold","little","morning","muddy","old","red","rough","still","small","sparkling","throbbing","shy","aged","wandering","withered","wild","black","young","holy","solitary","fragrant","snowy","proud","floral","restless","divine","polished","ancient","purple","lively","nameless"],e=["waterfall","river","breeze","moon","rain","wind","sea","morning","snow","lake","sunset","pine","shadow","leaf","dawn","glitter","forest","hill","cloud","meadow","sun","glade","bird","brook","butterfly","bush","dew","dust","field","fire","flower","firefly","feather","grass","haze","mountain","night","pond","darkness","snowflake","silence","sound","sky","shape","surf","thunder","violet","water","wildflower","wave","water","resonance","sun","wood","dream","cherry","tree","fog","frost","voice","paper","frog","smoke","star"],n=t.length,r=e.length,i=Math.floor(Math.random()*Math.pow(2,12)),t[i>>6%n]+"-"+e[i%r]},t}(),null==this.namer&&(this.namer=new t)}.call(this);