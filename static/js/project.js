// Generated by CoffeeScript 1.9.0
(function() {
  var nameeditor, nameelem, projectid;

  projectid = function() {
    var a, x, _i, _len;
    a = document.getElementsByTagName("meta");
    for (_i = 0, _len = a.length; _i < _len; _i++) {
      x = a[_i];
      if (x.name === "projectid") {
        return x.getAttribute("content");
      }
    }
  };

  nameelem = document.getElementById("octohaven-project-name");

  if (!nameelem) {
    throw new Error("Project name element is undefined");
  }

  nameeditor = new this.FastEditor(nameelem, (function(_this) {
    return function(status, value) {
      if (status && value && projectid) {
        return _this.loader.sendrequest("get", "/api/project/update?id=" + (projectid()) + "&name=" + (_this.util.quote(value)), {}, null, function(s, r) {
          return console.log(s, r);
        }, function(e, r) {
          return console.log(e, r);
        });
      }
    };
  })(this));

}).call(this);
